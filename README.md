Система для организации стримов на базе OBS.

1. План стрима.
    План стрима создается из объекта стрима и фаз стрима.
    Stream - это шаблон, план, который можно использовать как план для разных стримов на разных каналах.
    Мы задаем основные параметры шаблона стрима:
        название шаблона стрима, 
        канал (данные канала используются для работы чатов)
        плейлист стрима
        сцена в OBS по-умолчанию
        период обновления запросов из OBS по-умолчанию
        период обновления для синхронизации движка (от скрипта sync)
        
        Дальше, если нам необходимы общие скрипты, которые будут запускаться на фоне всего стрима,
        для этого есть модули стрима. Модуль - скрипт, запускаемый при синхронизации. Скрипт должен
        обрабатывать один шаг и передавать управление дальше и не желательно иметь циклов и сложных обработок,
        так как это время включается в последовательный период синхронизации.
        Мы добавляем модули стрима в список, где выбираем модуль стрима, описание и указываем порядок его выполнения.
        Модули стрима (как и все модули) выполняются по порядку, определенному в поре order (по возрастанию).

        Каждый стрим должен иметь минимум одну фазу стрима. Можно добавить нужное количество фаз и указать их порядок
        в поле ORDER.
        Фазы бывают обычные и игровые.
        Обычные фазы имеют длительность по времени, которая задается в параметрах фазы в секундах - Time in seconds.
        Также у фазы указывается сцена OBS, которую будет получать OBS через запрос к движку.
        Также задаются времена обновления OBS и SYNC запросов.
        Если в процессе работы фазы будет использоваться сканирование чата стрима через API Youtube, то указываем это,
        а также задаем частоту запросов (период времени). Ограничение нужно, чтоб регулировать и не превысить дневные лимиты.
        Также мы можем указать плейлист для фазы.

        Фазы стрима также могут иметь свои модули - модули фаз стрима.
        Они работают также, как и модули стрима. Можно также задать их порядок выполнения.
        
        Смена фаз обычного стрима задается их временем. Возможно переключение фазы модулями досрочно.
        Критерии переключения фаз не на основе времени могут быть разными.

        Фазы стрима также могут быть игровыми.

2. Игры
    Фазы стрима могут быть игровыми и в одной фазе стрима можно играть только один тип игр.
    Помечаем фазу как игровая и задаем тип игры и количество игр.
    К типу игры привязываются правила игры и упорядоченные игровые модули.
    Каждая игра состоит из набора состояний.
    При обнаружении игровой фазы и отсутствии активных игр и допустимом счетчике игр, 
    движок создает новую активную игру, 
    а также генерирует первое состояние игры с нулевым содержанием state={} и тегом состояния state_tag = 'START'
    Дальше вступают в дело игровые модули игры, определяющие генерацию и переход между состояниями игры.
    В конце игра должна сгенерировать состояние с тегом state_tag = 'END'
    Движок поймает это состояние по тегу и сделает эту игру неактивной.

После того, как мы спланировали шаблон стрима, можем создать и запланировать сам стрим - Real Stream.


Сценарии:

1. Простая автопрезентация
Стрим из нескольких сцен, сменяемых по времени и порядку.
На протяжении всех сцен играет зацикленный плейлист из упорядоченных мелодий.
Создать стрим, добавить нужное количество фаз со сценами OBS.
В настройках стрима указать плейлист и добавить модуль зацикленного воспроизведения.

2. Презентация с фазами.
Стрим из нескольких сцен, сменяемых по времени и порядку.
Для каждой фазы указываем свой плейлист.
Дальше два варианта модуля:
 1. Указать модуль плейера фазовых плейлистов в модуле стрима.
 2. Указать для каждой фазы отдельный модуль плейера фазового плейлиста.

